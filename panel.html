<script>
window.stop();
var username;

function dynamict(callback) {
var load = new XMLHttpRequest();
load.onreadystatechange = function() {
	if (this.readyState == 4 && this.status == 200) {
		console.log(this.responseText);
		callback(this.responseText);
		return this.responseText;
	}
};
load.open("GET", "username.txt");
load.send();
}

var page = new XMLHttpRequest();
page.onreadystatechange = function() {
	if (this.readyState == 4 && this.status == 200) {
		var dynamic = dynamict(function(response) {
			console.log("this");
			console.log(response);
			username = dynamic;
			console.log(username);
		});
		var str = this.responseText;
		var res = str.replace("$username$", username);
		document.write(res);
	}
};
page.open("GET", "static/panel.html");
page.send();

 //     username = this.responseText;
</script>